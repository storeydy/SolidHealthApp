{"id":"node_modules/@inrupt/solid-client-authn-browser/dist/dependencies.js","dependencies":[{"name":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js.map","includedInParent":true,"mtime":1645788390841},{"name":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\src\\dependencies.ts","includedInParent":true,"mtime":1645788390948},{"name":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\package.json","includedInParent":true,"mtime":1645793376876},{"name":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\package.json","includedInParent":true,"mtime":1645788390926},{"name":"@inrupt/solid-client-authn-core","loc":{"line":7,"column":42},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-core\\dist\\index.js"},{"name":"./storage/StorageUtility","loc":{"line":8,"column":49},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\storage\\StorageUtility.js"},{"name":"./ClientAuthentication","loc":{"line":9,"column":55},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\ClientAuthentication.js"},{"name":"./login/oidc/OidcLoginHandler","loc":{"line":10,"column":51},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\OidcLoginHandler.js"},{"name":"./login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler","loc":{"line":11,"column":71},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\oidcHandlers\\AuthorizationCodeWithPkceOidcHandler.js"},{"name":"./login/oidc/IssuerConfigFetcher","loc":{"line":12,"column":54},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\IssuerConfigFetcher.js"},{"name":"./login/oidc/redirectHandler/FallbackRedirectHandler","loc":{"line":13,"column":42},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\FallbackRedirectHandler.js"},{"name":"./logout/GeneralLogoutHandler","loc":{"line":14,"column":55},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\logout\\GeneralLogoutHandler.js"},{"name":"./sessionInfo/SessionInfoManager","loc":{"line":15,"column":37},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\sessionInfo\\SessionInfoManager.js"},{"name":"./login/oidc/redirectHandler/AuthCodeRedirectHandler","loc":{"line":16,"column":42},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\AuthCodeRedirectHandler.js"},{"name":"./login/oidc/redirectHandler/AggregateRedirectHandler","loc":{"line":17,"column":59},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\AggregateRedirectHandler.js"},{"name":"./storage/BrowserStorage","loc":{"line":18,"column":49},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\storage\\BrowserStorage.js"},{"name":"./login/oidc/Redirector","loc":{"line":19,"column":45},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\Redirector.js"},{"name":"./login/oidc/ClientRegistrar","loc":{"line":20,"column":50},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\ClientRegistrar.js"},{"name":"./login/oidc/redirectHandler/ErrorOidcHandler","loc":{"line":21,"column":35},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\ErrorOidcHandler.js"},{"name":"./login/oidc/refresh/TokenRefresher","loc":{"line":22,"column":49},"parent":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"C:\\Users\\store\\Documents\\College\\5th Year\\MAI Project\\storeydy.github.io\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\refresh\\TokenRefresher.js"}],"generated":{"js":"\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getClientAuthenticationWithDependencies = void 0;\r\nconst solid_client_authn_core_1 = require(\"@inrupt/solid-client-authn-core\");\r\nconst StorageUtility_1 = __importDefault(require(\"./storage/StorageUtility\"));\r\nconst ClientAuthentication_1 = __importDefault(require(\"./ClientAuthentication\"));\r\nconst OidcLoginHandler_1 = __importDefault(require(\"./login/oidc/OidcLoginHandler\"));\r\nconst AuthorizationCodeWithPkceOidcHandler_1 = __importDefault(require(\"./login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler\"));\r\nconst IssuerConfigFetcher_1 = __importDefault(require(\"./login/oidc/IssuerConfigFetcher\"));\r\nconst FallbackRedirectHandler_1 = require(\"./login/oidc/redirectHandler/FallbackRedirectHandler\");\r\nconst GeneralLogoutHandler_1 = __importDefault(require(\"./logout/GeneralLogoutHandler\"));\r\nconst SessionInfoManager_1 = require(\"./sessionInfo/SessionInfoManager\");\r\nconst AuthCodeRedirectHandler_1 = require(\"./login/oidc/redirectHandler/AuthCodeRedirectHandler\");\r\nconst AggregateRedirectHandler_1 = __importDefault(require(\"./login/oidc/redirectHandler/AggregateRedirectHandler\"));\r\nconst BrowserStorage_1 = __importDefault(require(\"./storage/BrowserStorage\"));\r\nconst Redirector_1 = __importDefault(require(\"./login/oidc/Redirector\"));\r\nconst ClientRegistrar_1 = __importDefault(require(\"./login/oidc/ClientRegistrar\"));\r\nconst ErrorOidcHandler_1 = require(\"./login/oidc/redirectHandler/ErrorOidcHandler\");\r\nconst TokenRefresher_1 = __importDefault(require(\"./login/oidc/refresh/TokenRefresher\"));\r\nfunction getClientAuthenticationWithDependencies(dependencies) {\r\n    const inMemoryStorage = new solid_client_authn_core_1.InMemoryStorage();\r\n    const secureStorage = dependencies.secureStorage || inMemoryStorage;\r\n    const insecureStorage = dependencies.insecureStorage || new BrowserStorage_1.default();\r\n    const storageUtility = new StorageUtility_1.default(secureStorage, insecureStorage);\r\n    const issuerConfigFetcher = new IssuerConfigFetcher_1.default(storageUtility);\r\n    const clientRegistrar = new ClientRegistrar_1.default(storageUtility);\r\n    const sessionInfoManager = new SessionInfoManager_1.SessionInfoManager(storageUtility);\r\n    const tokenRefresher = new TokenRefresher_1.default(storageUtility, issuerConfigFetcher, clientRegistrar);\r\n    const loginHandler = new OidcLoginHandler_1.default(storageUtility, new AuthorizationCodeWithPkceOidcHandler_1.default(storageUtility, new Redirector_1.default()), issuerConfigFetcher, clientRegistrar);\r\n    const redirectHandler = new AggregateRedirectHandler_1.default([\r\n        new ErrorOidcHandler_1.ErrorOidcHandler(),\r\n        new AuthCodeRedirectHandler_1.AuthCodeRedirectHandler(storageUtility, sessionInfoManager, issuerConfigFetcher, clientRegistrar, tokenRefresher),\r\n        new FallbackRedirectHandler_1.FallbackRedirectHandler(),\r\n    ]);\r\n    return new ClientAuthentication_1.default(loginHandler, redirectHandler, new GeneralLogoutHandler_1.default(sessionInfoManager), sessionInfoManager, issuerConfigFetcher);\r\n}\r\nexports.getClientAuthenticationWithDependencies = getClientAuthenticationWithDependencies;\r\n"},"sourceMaps":{"js":{"version":3,"file":"dependencies.js","sourceRoot":"","sources":["../src/dependencies.ts"],"names":[],"mappings":";;;;;;AA6BA,6EAA4E;AAC5E,8EAA6D;AAC7D,kFAA0D;AAC1D,qFAA6D;AAC7D,0IAAkH;AAClH,2FAAmE;AACnE,kGAA+F;AAC/F,yFAAiE;AACjE,yEAAsE;AACtE,kGAA+F;AAC/F,qHAA6F;AAC7F,8EAAsD;AACtD,yEAAiD;AACjD,mFAA2D;AAC3D,oFAAiF;AACjF,yFAAiE;AAOjE,SAAgB,uCAAuC,CAAC,YAGvD;IACC,MAAM,eAAe,GAAG,IAAI,yCAAe,EAAE,CAAC;IAC9C,MAAM,aAAa,GAAG,YAAY,CAAC,aAAa,IAAI,eAAe,CAAC;IACpE,MAAM,eAAe,GAAG,YAAY,CAAC,eAAe,IAAI,IAAI,wBAAc,EAAE,CAAC;IAE7E,MAAM,cAAc,GAAG,IAAI,wBAAqB,CAC9C,aAAa,EACb,eAAe,CAChB,CAAC;IAEF,MAAM,mBAAmB,GAAG,IAAI,6BAAmB,CAAC,cAAc,CAAC,CAAC;IACpE,MAAM,eAAe,GAAG,IAAI,yBAAe,CAAC,cAAc,CAAC,CAAC;IAE5D,MAAM,kBAAkB,GAAG,IAAI,uCAAkB,CAAC,cAAc,CAAC,CAAC;IAElE,MAAM,cAAc,GAAG,IAAI,wBAAc,CACvC,cAAc,EACd,mBAAmB,EACnB,eAAe,CAChB,CAAC;IAGF,MAAM,YAAY,GAAG,IAAI,0BAAgB,CACvC,cAAc,EACd,IAAI,8CAAoC,CAAC,cAAc,EAAE,IAAI,oBAAU,EAAE,CAAC,EAC1E,mBAAmB,EACnB,eAAe,CAChB,CAAC;IAEF,MAAM,eAAe,GAAG,IAAI,kCAAwB,CAAC;QACnD,IAAI,mCAAgB,EAAE;QACtB,IAAI,iDAAuB,CACzB,cAAc,EACd,kBAAkB,EAClB,mBAAmB,EACnB,eAAe,EACf,cAAc,CACf;QAGD,IAAI,iDAAuB,EAAE;KAC9B,CAAC,CAAC;IAEH,OAAO,IAAI,8BAAoB,CAC7B,YAAY,EACZ,eAAe,EACf,IAAI,8BAAoB,CAAC,kBAAkB,CAAC,EAC5C,kBAAkB,EAClB,mBAAmB,CACpB,CAAC;AACJ,CAAC;AArDD,0FAqDC","sourcesContent":["/*\r\n * Copyright 2021 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * @hidden\r\n * @packageDocumentation\r\n */\r\n\r\n/**\r\n * Top Level core document. Responsible for setting up the dependency graph\r\n */\r\nimport { IStorage, InMemoryStorage } from \"@inrupt/solid-client-authn-core\";\r\nimport StorageUtilityBrowser from \"./storage/StorageUtility\";\r\nimport ClientAuthentication from \"./ClientAuthentication\";\r\nimport OidcLoginHandler from \"./login/oidc/OidcLoginHandler\";\r\nimport AuthorizationCodeWithPkceOidcHandler from \"./login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler\";\r\nimport IssuerConfigFetcher from \"./login/oidc/IssuerConfigFetcher\";\r\nimport { FallbackRedirectHandler } from \"./login/oidc/redirectHandler/FallbackRedirectHandler\";\r\nimport GeneralLogoutHandler from \"./logout/GeneralLogoutHandler\";\r\nimport { SessionInfoManager } from \"./sessionInfo/SessionInfoManager\";\r\nimport { AuthCodeRedirectHandler } from \"./login/oidc/redirectHandler/AuthCodeRedirectHandler\";\r\nimport AggregateRedirectHandler from \"./login/oidc/redirectHandler/AggregateRedirectHandler\";\r\nimport BrowserStorage from \"./storage/BrowserStorage\";\r\nimport Redirector from \"./login/oidc/Redirector\";\r\nimport ClientRegistrar from \"./login/oidc/ClientRegistrar\";\r\nimport { ErrorOidcHandler } from \"./login/oidc/redirectHandler/ErrorOidcHandler\";\r\nimport TokenRefresher from \"./login/oidc/refresh/TokenRefresher\";\r\n\r\n/**\r\n *\r\n * @param dependencies\r\n * @deprecated This function will be removed from the external API in an upcoming release.\r\n */\r\nexport function getClientAuthenticationWithDependencies(dependencies: {\r\n  secureStorage?: IStorage;\r\n  insecureStorage?: IStorage;\r\n}): ClientAuthentication {\r\n  const inMemoryStorage = new InMemoryStorage();\r\n  const secureStorage = dependencies.secureStorage || inMemoryStorage;\r\n  const insecureStorage = dependencies.insecureStorage || new BrowserStorage();\r\n\r\n  const storageUtility = new StorageUtilityBrowser(\r\n    secureStorage,\r\n    insecureStorage\r\n  );\r\n\r\n  const issuerConfigFetcher = new IssuerConfigFetcher(storageUtility);\r\n  const clientRegistrar = new ClientRegistrar(storageUtility);\r\n\r\n  const sessionInfoManager = new SessionInfoManager(storageUtility);\r\n\r\n  const tokenRefresher = new TokenRefresher(\r\n    storageUtility,\r\n    issuerConfigFetcher,\r\n    clientRegistrar\r\n  );\r\n\r\n  // make new handler for redirect and login\r\n  const loginHandler = new OidcLoginHandler(\r\n    storageUtility,\r\n    new AuthorizationCodeWithPkceOidcHandler(storageUtility, new Redirector()),\r\n    issuerConfigFetcher,\r\n    clientRegistrar\r\n  );\r\n\r\n  const redirectHandler = new AggregateRedirectHandler([\r\n    new ErrorOidcHandler(),\r\n    new AuthCodeRedirectHandler(\r\n      storageUtility,\r\n      sessionInfoManager,\r\n      issuerConfigFetcher,\r\n      clientRegistrar,\r\n      tokenRefresher\r\n    ),\r\n    // This catch-all class will always be able to handle the\r\n    // redirect IRI, so it must be registered last.\r\n    new FallbackRedirectHandler(),\r\n  ]);\r\n\r\n  return new ClientAuthentication(\r\n    loginHandler,\r\n    redirectHandler,\r\n    new GeneralLogoutHandler(sessionInfoManager),\r\n    sessionInfoManager,\r\n    issuerConfigFetcher\r\n  );\r\n}\r\n"]}},"error":null,"hash":"2cb310a533175d04271258fd8e4774bc","cacheData":{"env":{}}}